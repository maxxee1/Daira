<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Para Daira üíå</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- MUY IMPORTANTE -->
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
  
  <!-- Bootstrap + tu CSS externo -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  
  <style>
    body {
      margin: 0;
      background: #ffeef2;
      overflow: hidden;
      font-family: 'Comic Sans MS', cursive;
      position: relative;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: 0;
    }

    .letter {
      max-width: 600px;
      padding: 40px;
      background-color: #fff0f6;
      border: 2px solid #ff9aa2;
      border-radius: 15px;
      box-shadow: 0px 0px 15px #ffc1cc;
      text-align: center;
      line-height: 1.6;
      position: relative;
      z-index: 1;
      margin: 100px auto;
    }

    .letter h1 {
      font-size: 2em;
      margin-bottom: 20px;
      color: #ff4d6d;
    }

    .letter p {
      font-size: 1.1em;
    }

    .buttons {
      margin-top: 30px;
      position: relative;
      height: 100px;
    }

    .buttons button {
      padding: 10px 20px;
      border: none;
      border-radius: 10px;
      background-color: #ffb6b9;
      font-weight: bold;
      cursor: pointer;
      margin: 10px;
      transition: all 0.3s ease;
      position: relative;
    }

    #agreeBtn:hover {
      transform: scale(1.2);
    }

    #disagreeBtn {
      position: absolute;
    }

    /* üì± Estilos para dispositivos m√≥viles */
    @media (max-width: 768px) {
      body {
        font-family: 'Quicksand', sans-serif !important;
        font-size: 16px;
        padding: 10px;
      }

      .letter {
        padding: 20px;
        font-size: 1em;
        line-height: 1.5;
        margin: 60px 15px;
      }

      .letter h1 {
        font-size: 1.5em;
      }

      .letter p {
        font-size: 1em;
      }

      .buttons button {
        font-size: 0.95em;
        padding: 8px 16px;
      }
    }
  </style>
</head>
<body>

  <canvas id="canvas"></canvas>

  <div class="container d-flex justify-content-center align-items-center min-vh-100">
    <div class="letter text-center">
      <h1>Felicitacionesss!</h1>
      <p>
        Te ganaste una detonada, no faltes. &lt;3
      </p>
      <p style="margin-top: 30px;">‚Äî Maxxoo ü•∑üèº</p>

      <div class="buttons">
        <button id="agreeBtn">voy</button>
        <button id="disagreeBtn">√±au</button>
      </div>
    </div>
  </div>

  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const colors = ['#ffb6b9', '#ff9aa2', '#ff6f91', '#ffc1cc', '#fcd5ce'];

    function drawFlower(x, y) {
      for (let i = 0; i < 8; i++) {
        ctx.beginPath();
        const angle = i * Math.PI / 4;
        const petalX = x + Math.cos(angle) * 10;
        const petalY = y + Math.sin(angle) * 10;
        ctx.arc(petalX, petalY, 6, 0, Math.PI * 2);
        ctx.fillStyle = colors[Math.floor(Math.random() * colors.length)];
        ctx.fill();
      }
      ctx.beginPath();
      ctx.arc(x, y, 5, 0, Math.PI * 2);
      ctx.fillStyle = '#ff69b4';
      ctx.fill();
    }

    let particles = [];
    let showFireworks = true;

    function createFirework(x, y) {
      for (let i = 0; i < 140; i++) {
        particles.push({
          x: x,
          y: y,
          radius: 2,
          color: colors[Math.floor(Math.random() * colors.length)],
          vx: Math.random() * 4 - 2,
          vy: Math.random() * 4 - 2,
          alpha: 1
        });
      }
    }

    function animate() {
      ctx.fillStyle = 'rgba(255, 238, 242, 0.1)';
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      if (Math.random() < 0.05) {
        drawFlower(Math.random() * canvas.width, Math.random() * canvas.height);
      }

      if (showFireworks) {
        for (let i = particles.length - 1; i >= 0; i--) {
          const p = particles[i];
          p.x += p.vx;
          p.y += p.vy;
          p.alpha -= 0.01;
          if (p.alpha <= 0) {
            particles.splice(i, 1);
            continue;
          }
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
          ctx.fillStyle = p.color;
          ctx.globalAlpha = p.alpha;
          ctx.fill();
          ctx.globalAlpha = 1;
        }
      }

      requestAnimationFrame(animate);
    }

    let intervalId = setInterval(() => {
      if (showFireworks) {
        const x = Math.random() * canvas.width;
        const y = Math.random() * canvas.height / 2;
        createFirework(x, y);
      }
    }, 300);

    animate();

    const disagreeBtn = document.getElementById('disagreeBtn');
    const agreeBtn = document.getElementById('agreeBtn');

    function getRandomPosition() {
      const maxX = window.innerWidth - disagreeBtn.offsetWidth;
      const maxY = window.innerHeight - disagreeBtn.offsetHeight;
      return {
        x: Math.random() * maxX,
        y: Math.random() * maxY
      };
    }

    let agreeSizeMultiplier = 1;
    let escapeCount = 0;
    let baseLeft = disagreeBtn.offsetLeft;
    let baseTop = disagreeBtn.offsetTop;

    disagreeBtn.addEventListener('mouseover', () => {
      escapeCount++;

      if (escapeCount >= 3) {
        alert("No tienes otra opcion");
        disagreeBtn.remove();
        return;
      }

      const offsetX = (Math.random() - 0.5) * 100;
      const offsetY = (Math.random() - 0.5) * 60;

      const newLeft = baseLeft + offsetX;
      const newTop = baseTop + offsetY;

      disagreeBtn.style.position = 'absolute';
      disagreeBtn.style.left = `${newLeft}px`;
      disagreeBtn.style.top = `${newTop}px`;

      agreeSizeMultiplier *= 1.3;
      agreeBtn.style.transform = `scale(${agreeSizeMultiplier})`;
    });

    disagreeBtn.addEventListener('click', () => {
      escapeCount++;
      if (escapeCount >= 3) {
        alert("no tienes otra opcion");
        disagreeBtn.remove();
      }
    });

    agreeBtn.addEventListener('click', () => {
      showFireworks = false;
      clearInterval(intervalId);
      setTimeout(() => {
        window.location.href = "final-letter.html";
      }, 800);
    });
  </script>
</body>
</html>
